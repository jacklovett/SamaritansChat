<mat-spinner class="center" [hidden]="!loading" [diameter]="32"></mat-spinner>
<mat-card class="container-margin" [hidden]="loading">
  <mat-toolbar>Chat Logs</mat-toolbar>
  <div [hidden]="chatLogs.length" class="no-data-found">
    No Chat Logs found
  </div>
  <div [hidden]="!chatLogs.length" class="content">
    <div class="search-container">
      <mat-form-field class="search">
        <mat-icon class="search-icon md-14" matPrefix>search</mat-icon>
        <input matInput (keyup)="search($event)" placeholder="Search" />
      </mat-form-field>
    </div>
    <div class="table-container">
      <table mat-table [dataSource]="dataSource" matSort>
        <ng-container matColumnDef="volunteer">
          <th id="volunteer" mat-header-cell mat-sort-header *matHeaderCellDef>
            Volunteer
          </th>
          <td mat-cell *matCellDef="let chatLog">
            {{ chatLog.volunteer }}
          </td>
        </ng-container>
        <ng-container matColumnDef="username">
          <th id="username" mat-header-cell mat-sort-header *matHeaderCellDef>
            Username
          </th>
          <td mat-cell *matCellDef="let chatLog">
            {{ chatLog.username }}
          </td>
        </ng-container>
        <ng-container matColumnDef="rating">
          <th id="rating" mat-header-cell mat-sort-header *matHeaderCellDef>
            Rating
          </th>
          <td mat-cell class="center-cell" *matCellDef="let chatLog">
            {{ chatLog.rating }}
          </td>
        </ng-container>
        <ng-container matColumnDef="startTime">
          <th id="start-time" mat-header-cell mat-sort-header *matHeaderCellDef>
            Start Time
          </th>
          <td mat-cell *matCellDef="let chatLog">
            {{ chatLog.startTime | date: 'dd/MM/yyyy h:mm a' }}
          </td>
        </ng-container>
        <ng-container matColumnDef="endTime">
          <th id="end-time" mat-header-cell mat-sort-header *matHeaderCellDef>
            End Time
          </th>
          <td mat-cell *matCellDef="let chatLog">
            {{ chatLog.endTime | date: 'dd/MM/yyyy h:mm a' }}
          </td>
        </ng-container>
        <ng-container matColumnDef="transcript">
          <th id="transcript" mat-header-cell *matHeaderCellDef>
            Transcript
          </th>
          <td mat-cell class="center-cell" *matCellDef="let chatLog">
            <mat-icon
              matTooltip="See Transcript"
              class="material-icons material-icons-btn"
              (click)="goToTranscript(chatLog.transcriptId)"
              >description
            </mat-icon>
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </div>
    <mat-paginator
      #paginator
      showFirstLastButtons
      [pageSizeOptions]="[5, 10, 20]"
      [length]="chatLogs.length"
    ></mat-paginator>
  </div>
</mat-card>
